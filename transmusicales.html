<html>

<head>
	<title>POI-Client Demo</title>

	<link rel="stylesheet" type="text/css" media="all" href="styles.css"/>

	<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="js/xml3d-4.9.1.js"></script>
	<script type="text/javascript" src="js/xml3d-progress.js"></script>
	<script type="text/javascript" src="js/camera.js"></script>
	<script type="text/javascript" src="js/overlay-shader.js"></script>
	<script type="text/javascript" src="js/xml3d-geo.js"></script>
	<script type="text/javascript" src="js/xml3d-poi.js"></script>
	<script type="text/javascript" src="js/xml3d-animation.js"></script>
    <script type="text/javascript" src="js/xml3d-terrain.js"></script>
    <script type="text/javascript" src="js/xml3d-deviceorientation.js"></script>

    <script type="text/javascript" src="config.js"></script>
    <script type="text/javascript" src="status2color.js"></script>
    <script type="text/javascript" src="transmusicales.js"></script>

	<script type="text/javascript">
	// <![CDATA[

		/////////////////////////////////////////////////////////////////////////

		var config = {
			"origin": {
				"lon": -1.733,
				"lat": 48.058

				// -1.7358,48.0558,-1.729,48.0603
			},
			"level": 19,
			
			"venue": [
				48.0558, -1.7358,
				48.0603, -1.729,
			],

			"api_tiles": global.api.ground_tiles['transmusicales'],
			"layers": ["plane"], // , "buildings"],

			"api_poi": {
				"location": "data/transmusicales/location/LesTransmusicales2014.json",
				"update": "data/transmusicales/update/LesTransmusicales2014.json"
			},

			"status2color": status2color,

			"fetchJSON": function (url, handler) {
				var req = $.getJSON(url);
				req.done(handler);
			}
		};

	// ]]>
	</script>
</head>

<body>
	<div id="myxml3d">
		<xml3d id="myxml3dcanvas" activeView="#defaultView" style="width: 100%; height: 100%; background-color:0xeeeeee;" >

			<!-- Asset Instance -->
			<transform id="geo_tf"></transform>
			<transform id="ground_tf_scale"></transform>

			<group transform="#geo_tf">
				<group id="ground" transform="#ground_tf_scale"></group>
				<group id="pois"></group>
			</group>

			<!-- Light and View -->
			<view id="defaultView" position="0 25 0"></view>

			<lightshader id="light1" script="urn:xml3d:lightshader:directional">
				<float3 name="intensity">0.9 0.9 0.9</float3>
			</lightshader>

			<group style="transform: rotateX(-60deg)" >
				<light shader="#light1"></light>
			</group>

		</xml3d>
		<div id="loader" class="centered_loader"><img src="img/ajax_loader_gray_512.gif"/></div>
	</div>
</body>

</html>
